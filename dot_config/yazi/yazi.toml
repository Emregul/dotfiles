[opener]
edit = [
  { run = 'nvim %s', block = true, for = "macos" },
]
open = [
  { run = 'open %s', desc = "Open with system default", for = "macos" },
]
play = [
  { run = 'open %s', orphan = true, for = "macos" },
]

[open]
rules = [
  # Code / text — open in nvim
  { url = "*.lua",       use = "edit" },
  { url = "*.fish",      use = "edit" },
  { url = "*.toml",      use = "edit" },
  { url = "*.yaml",      use = "edit" },
  { url = "*.yml",       use = "edit" },
  { url = "*.json",      use = "edit" },
  { url = "*.md",        use = "edit" },
  { url = "*.txt",       use = "edit" },
  { url = "*.sh",        use = "edit" },
  { url = "*.py",        use = "edit" },
  { url = "*.js",        use = "edit" },
  { url = "*.ts",        use = "edit" },
  { url = "*.tsx",       use = "edit" },
  { url = "*.jsx",       use = "edit" },
  { url = "*.rs",        use = "edit" },
  { url = "*.go",        use = "edit" },
  { url = "*.css",       use = "edit" },
  { url = "*.html",      use = "edit" },
  { url = "*.conf",      use = "edit" },
  { url = "*.gitconfig", use = "edit" },

  # Images — Preview
  { mime = "image/*", use = "open" },

  # Video / audio
  { mime = "video/*", use = "play" },
  { mime = "audio/*", use = "play" },

  # PDFs
  { mime = "application/pdf", use = "open" },

  # Fallback
  { url = "*", use = "open" },
]
